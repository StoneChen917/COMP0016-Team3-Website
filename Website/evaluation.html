<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluation</title>

    <link rel="stylesheet" href="assets/css/Global.css">
    <link rel="stylesheet" href="assets/css/Header.css">
    <link rel="stylesheet" href="assets/css/Footer.css">

    <link rel="stylesheet" href="assets/css/pages/index.css">

</head>

<style>
    h1 {text-align: center;}
    /*h2 {text-align: center;}*/
    /*h3 {text-align: center;}*/
    /*h4 {text-align: center;}*/
    /*h5 {text-align: center;}*/


    .styled-table {
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.9em;
        font-family: sans-serif;
        min-width: 400px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
    }

    .styled-table thead tr {
        background-color: #f06068;
        color: #ffffff;
        text-align: left;
    }

    .styled-table th,
    .styled-table td {
        padding: 12px 15px;
    }

    .styled-table tbody tr {
        border-bottom: 1px solid #dddddd;
    }

    .styled-table tbody tr:nth-of-type(even) {
        background-color: #f3f3f3;
    }

    .styled-table tbody tr:last-of-type {
        border-bottom: 2px solid #f06068;
    }

    .styled-table tbody tr.active-row {
        font-weight: bold;
        color: #f06068;
    }
</style>

<body>
    <header>
        <div class="navbar">
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'index.html';">Home 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="index.html#abstracts">Abstracts</a>
                <a href="index.html#features">Features</a>
                <a href="index.html#project-video">Project Video</a>
                <a href="index.html#team-members">Team Members</a>
                <a href="index.html#gantt-chart">Gantt Chart</a>
                </div>
            </div> 
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'requirements.html';">Requirements 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="requirements.html#pb">Project Background</a>
                <a href="requirements.html#pg">Project Goals</a>
                <a href="requirements.html#gor">Gathering of Requirements</a>
                <a href="requirements.html#personas">Personas</a>
                <a href="requirements.html#moscow">MoSCoW Requirements</a>
                </div>
            </div> 
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'research.html';">Research 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="research.html#Named-Entity-Recognition">Named Entity Recognition</a>
                <a href="research.html#SpaCy">SpaCy</a>
                <a href="research.html#Q&A-Model">Q&A Model</a>
                <a href="research.html#Table-Extraction">Table Extraction</a>
                <a href="research.html#String-Matching">String Matching</a>
                <a href="research.html#Resources">Resources</a>
                </div>
            </div> 
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'design.html';">Design 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="design.html#UI-design">UI Design</a>
                <a href="design.html#System-Architecture">System Architecture</a>
                <a href="design.html#Site-Map">Site Map</a>
                <a href="design.html#Data-Storage">Data Storage</a>
                </div>
            </div> 
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'implementation.html';">Implementation 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="implementation.html#Impl.Overview">Implementation Overview</a>
                <a href="implementation.html#Retrieving-and-reading-file(s)">Retrieving and reading file(s)</a>
                <a href="implementation.html#Answer-Extraction">Answer Etraction</a>
                <a href="implementation.html#Location-extraction">Location Extraction</a>
                <a href="implementation.html#Code-matching">Code Matching</a>
                <a href="implementation.html#Display-and-save">Display and save</a>
                </div>
            </div> 
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'testing.html';">Testing 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="testing.html#Testing-Strategy">Testing Strategy</a>
                <a href="testing.html#Unit-Testing">Unit Testing</a>
                <a href="testing.html#Integration-Testing">Integration Testing</a>
                <a href="testing.html#User-Testing">User Testing</a>
                </div>
            </div>
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'evaluation.html';">Evaluation 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="evaluation.html#achievements">Achievements</a>
                <a href="evaluation.html#QA">QA Models</a>
                <a href="evaluation.html#spacy">spaCy Models</a>
                <a href="evaluation.html#string">String Matching</a>
                <a href="evaluation.html#critical">Critical Evaluation</a>
                <a href="evaluation.html#future">Future Work</a>
    
    
                </div>
            </div> 
            <div class="dropdown">
                <button class="dropbtn" onclick="window.location.href = 'appendix.html';">Appendix 
                <i class="fa fa-caret-down"></i>
                </button>
                <div class="dropdown-content">
                <a href="appendix.html#Deployment-Manual">Deployment Manual</a>
                <a href="appendix.html#Monthly-Videos">Monthly Videos</a>
                <a href="appendix.html#Development-Blog">Development Blog</a>
                </div>
            </div> 
        </div>
    </header>
    <section class="section" id="Overview">
        <div style="text-align: center;"><h3>Evaluation</h3></div>
        <hr class="solid">
    <!-- the first re-usable section with topic and contents -->
    
        <div style="text-align: center;"><h4 class="mb-4">MoSCoW List Achievement</h4></div>
<!--        <div class="table-responsive">-->
        <div style="text-align: center;">
            <table class="center">
                <table class="styled-table">
                    <thead>
                    <tr>
                        <th>ID</th><th>Description</th><th>Priority</th><th>State</th><th>Contributors</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr><td>1</td><td>Operation number</td><td>MUST</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr class="active-row"><td>2</td><td>Admin 0</td><td>MUST</td><td>&#10004</td><td>Tosin</td></tr>
                    <tr><td>3</td><td>Admin 1</td><td>MUST</td><td>&#10004</td><td>Tosin</td></tr>
                    <tr class="active-row"><td>4</td><td>Admin 2</td><td>MUST</td><td>&#10004</td><td>Tosin</td></tr>
                    <tr><td>5</td><td>P codes</td><td>MUST</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr class="active-row"><td>6</td><td>Operation start date</td><td>SHOULD</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr><td>7</td><td>Operation end dates</td><td>SHOULD</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr class="active-row"><td>8</td><td>Glide number</td><td>SHOULD</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr><td>9</td><td>Number of people affected</td><td>SHOULD</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr class="active-row"><td>10</td><td>Number of people assisted</td><td>SHOULD</td><td>&#10004</td><td>Hannah</td></tr>
                    <tr><td>11</td><td>Host National Society</td><td>SHOULD</td><td>&#10004</td><td>Hannah</td></tr>

                    <tr><td colspan="2">Key Functionalities:</td><td colspan="3"><code>100 %</code></td></tr><tr><td colspan="2">Optional Functionalities:</td><td colspan="3"><code>100%</code></td></tr>
                    </tbody>
                </table>
            </table>
        </div>
        <br></br>

        <div style="text-align: center;"><h4 class="mb-4">Individual Contributions</h4></div>
        <table class="styled-table">
            <thead>
            <tr>
                <th>Section of Project</th><th>Stone</th><th>Tosin</th><th>Hannah</th><th>Zayn</th>
            </tr>
            </thead>
            <tbody>
            <tr><td>Client Liaison</td><td>25</td><td>25</td><td>25</td><td>25</td></tr>
            <tr><td>Requirements Analysis(HCI)</td><td>25</td><td>25</td><td>25</td><td>25</td></tr>
            <tr><td>Research</td><td>25</td><td>25</td><td>25</td><td>25</td></tr>
            <tr><td>UI Design</td><td>80</td><td>0</td><td>0</td><td>20</td></tr>
            <tr><td>Coding</td><td>25</td><td>25</td><td>25</td><td>25</td></tr>
            <tr><td>Testing</td><td>25</td><td>25</td><td>25</td><td>25</td></tr>
            <tr><td>Integration</td><td>15</td><td>70</td><td>0</td><td>15</td></tr>
            <tr><td>Report Website</td><td>25</td><td>25</td><td>25</td><td>25</td></tr>
            <tr><td>Monthly Blogs</td><td>0</td><td>100</td><td>0</td><td>0</td></tr>
            <tr><td>Monthly Videos</td><td>0</td><td>0</td><td>0</td><td>100</td></tr>
            <tr><td>Overall Contribution</td><td>24.5%</td><td>32%</td><td>15%</td><td>28.5%</td></tr>
            <tr><td>Main roles</td><td>UI Designer, Front-End Developer</td><td>DevOps, Back-end developer, Back-end Integration</td><td>Team Manager, Client Liaison, Back-end developer</td><td>Team Manager, Client Liaison, Full-stack Developer</td></tr>

            </tbody>
        </table>

        <div style="text-align: center;"><h4 class="mb-4">Known Bug List</h4></div>
        <table class="styled-table">
            <thead>
            <tr>
                <th>ID</th><th>Bug Description</th><th>Priority</th>
            </tr>
            </thead>
            <tbody>
            <tr><td>1</td><td>When multiple Admin 0 in document, may incorrectly identify the actual country</td><td>High</td></tr>
            <tr><td>2</td><td>May find incorrect ISO code for locations that are neither in Admin1 location database or Admin 2 location database</td><td>High</td></tr>
            <tr><td>3</td><td>Extracts ISO codes of locations that aren't in the country</td><td>Medium</td></tr>
            <tr><td>4</td><td>spaCy model extracts duplicate locations (E.g 'Gatsibo' & 'Gatsibo District')</td><td>Low</td></tr>
            </tbody>
        </table>

    </section>

    <section class="section" id="QA">
        </align><h1>Evaluating QA Models</h1>
        <h4>Common Metrics to Evaluate QA Models</h4>
        <p>There are two dominant metrics used by many question answering datasets, including SQuAD: exact match (EM) and F1 score. These scores are computed on individual question+answer pairs. When multiple correct answers are possible for a given question, the maximum score over all possible correct answers is computed. Overall EM and F1 scores are computed for a model by averaging over the individual example scores.
        </p>

        <h4>Exact Match</h4>
        <p>For each question+answer pair, if the characters of the model's prediction exactly match the characters of (one of) the True Answer(s), EM = 1, otherwise EM = 0. This is a strict all-or-nothing metric; being off by a single character results in a score of 0. When assessing against a negative example, if the model predicts any text at all, it automatically receives a 0 for that example.
        </p>

        <h4>F1</h4>
        <p>F1 score is a common metric for classification problems, and widely used in QA. It is appropriate when we care equally about precision and recall. In this case, it's computed over the individual words in the prediction against those in the True Answer. The number of shared words between the prediction and the truth is the basis of the F1 score: precision is the ratio of the number of shared words to the total number of words in the prediction, and recall is the ratio of the number of shared words to the total number of words in the ground truth. 
        </p>

        <h4>Datasets Used</h4>
        <p>The Stanford Question Answering Dataset (SQuAD) is a set of question and answer pairs that present a strong challenge for NLP models. Due to its size (100,000+ questions), its difficulty due to the model only has access to a single passage and the fact that its answers are more complex and thus require more-intensive reasoning, SQuAD is an excellent dataset to train NLP models on.
        <br>
        SQuAD 1.1, the previous version of the SQuAD dataset, contains 100,000+ question-answer pairs on 500+ articles. SQuAD2.0 combines the 100,000 questions in SQuAD1.1 with over 50,000 unanswerable questions written adversarially by crowdworkers to look similar to answerable ones. To do well on SQuAD2.0, systems must not only answer questions when possible, but also determine when no answer is supported by the paragraph and abstain from answering. 
        <br>
        We have decided to choose a model that has been pre-trained on SQuAD2.0 for improved performance.
        </p>

        <h1>Our Evaluations</h1>
        <p>We shortlisted 5 well performing pre-trained QA models from Hugging Face and analysed them using their f1 and EM values on the SQuAD2.0 dataset, which are as follows:</p>
        <br>
        <table>
            <tr>
              <th>Model Name</th>
              <th>F1</th>
              <th>EM</th>
            </tr>
            <tr>
             <td>distilbert-base-cased-distilled-squad</td>
             <td>86.996</td>
             <td>79.600</td>
            </tr>
            <tr>
              <td>deepset/roberta-base-squad2</td>
              <td>82.950</td>
              <td>79.931</td>
            </tr>
            <tr>
                <td>deepset/minilm-uncased-squad2</td>
                <td>79.548</td>
                <td>76.192</td>
            </tr>
            <tr>
                <td>bert-large-uncased-whole-word-masking-finetuned-squad</td>
                <td>83.876</td>
                <td>80.885</td>
            </tr>
            <tr>
                <td>deepset/bert-base-cased-squad2</td>
                <td>74.671</td>
                <td>71.152</td>
            </tr>
        </table>
        <br>
        <p>We also ran all models on a sample document provided by our client, asked the models questions related to our requirements, tabulated the results and asked our peers to rate the sensibility of the answers from 0-5 for each of the answers. The results are as follows:</p>
        <b></b>
    </section>

    <section class="section" id="spacy">
        <h1>Evaluating spaCy Models</h1>
        <h4>Testing location detection</h4>
        <p>SpaCy has 3 main NLP models: small, medium, and large, which you can choose from to perform a task. The team decided that the large model would be best for our task of extracting all Geopolitical Entities (GPE) from the document. </p>
        <p>We carried out a test on all three models, using the same extract of text, taken from the first two paragraph of the Wikipedia page on the United States. The extracted GPEs were then put into a list as shown below:</p>
        <p>Small model - ['The United States of America', 'U.S.A.', 'USA', 'the United States', 'U.S.', 'US', 'America', 'The United States', 'the Federated States', 'the Marshall Islands', 'the Republic of Palau', 'Canada', 'Mexico', 'Bahamas', 'Cuba', 'Russia', 'Washington', 'D.C.', 'New York City']</p>
        <p>Medium model - ['The United States of America', 'USA', 'the United States', 'U.S.', 'US', 'America', 'The United States', 'the Marshall Islands', 'the Republic of Palau', 'Canada', 'Mexico', 'Bahamas', 'Cuba', 'Russia', 'Washington', 'D.C.', 'New York City']</p>
        <p>Large model - ['The United States of America', 'U.S.A.', 'USA', 'the United States', 'U.S.', 'US', 'America', 'The United States', 'the Federated States of Micronesia', 'the Marshall Islands', 'the Republic of Palau', 'Canada', 'Mexico', 'Bahamas', 'Cuba', 'Russia', 'Washington', 'D.C.', 'New York City']</p>
        <h5>Comments on results</h5>
        <p>Although all three models do a great job of identifying the locations in the text, the large model in one instance was able to recognise “the Federal states of Micronesia” as a GPE, as opposed to the small model that recognised only part of the GPE “the Federal States”, and the medium model not identifying it at all. </p>
        <p>This may not seem like much of an important factor, it would be very important to our clients. Their main requirement was for us to extract precise locations from the DREF documents, for them to correctly identify disasters and issue funds accordingly. As seen in the table above, the large model is significantly larger than the small and medium. However, for reasons stated previously, we prioritised accuracy over any other factor.</p>

        <h4>Model statistics</h4>
        <p>Other metrics we considered when choosing our model, include storage size, F-score, and word vector size. A table comparing the three models using these metrics is shown below: </p>

<!--        TABLE STARTS HERE-->
        <style>
            table, th, td {
                border:1px solid black;
                text-align: center;
                vertical-align: middle;
            }
        </style>
        <table style="width:100%">
            <tr>
                <th> </th>
                <th>Small model</th>
                <th>Medium model</th>
                <th>Large model</th>
            </tr>
            <tr>
                <td>Size</td>
                <td>12 MB</td>
                <td>40 MB</td>
                <td>560 MB</td>
            </tr>
            <tr>
                <td>Word Vector Size</td>
                <td>0 keys, 0 unique vectors (0 dimensions)</td>
                <td>514k keys, 20k unique vectors (300 dimensions)</td>
                <td>514k keys, 514k unique vectors
                    (300 dimensions)
                    /td>
            </tr>
            <tr>
                <td>F-Score</td>
                <td>0.85</td>
                <td>0.85</td>
                <td>0.85</td>
            </tr>
        </table>
<!--        TABLE ENDS HERE HERE-->

        <p>Although all three models have the same F-score, the large model has a much larger vector size compared to the small and large model, making it more accurate.</p>
        <br>
    </section>

    <section class="section" id="string">  
        <h1>Evaluating Different String Matching Methods</h1>
        <p align = "justify">To decide which method of string matching was best, we decided to compare the Fuzzywuzzy module, Edit distance and Cosine Matching by using 40 random Admin 1 and Admin 2 locations extracted from 15 random documents. We decided to test 2 different cases:</p>
        <br>
        <p align = "justify">1.	We filter the dataframe obtained from reading the Admin 1 Code and Admin 2 Code spreadsheets using the Country Code.</p>
        <p align = "justify">2.	We filter the dataframe obtained from reading the Admin 1 Code and Admin 2 Code spreadsheets using the Country Code as well as matching the first letter of the Admin 1/Admin 2 locations with the first letter of the location whose code we are trying to obtain (this was done to see whether time of execution could be reduced).</p>
        <br>
        <p align = "justify">We decided to compare the 3 types of string matching on the basis of time taken to execute the program, the number of ‘Not Found’ values returned as well as the accuracy which was calculated by (number of correct answers / total number of answers) * 100. The results obtained are as follows:</p>
        <br>
        <table>
            <tr>
              <th>Type of String Matching</th>
              <th>Time Taken to Execute Program</th>
              <th>No. of 'Not Found' Values Returned</th>
              <th>Accuracy</th>
            </tr>
            <tr>
             <td>Fuzzy Matching without first letter filter</td>
             <td>11.3 minutes</td>
             <td>0</td>
             <td>95%</td>
            </tr>
            <tr>
                <td>Fuzzy Matching with first letter filter</td>
                <td>17 minutes</td>
                <td>1</td>
                <td>90%</td>
            </tr>
            <tr>
                <td>Cosine Matching without first letter filter</td>
                <td>49.6 minutes</td>
                <td>0</td>
                <td>85%</td>
            </tr>
            <tr>
                <td>Cosine Matching with first letter filter</td>
                <td>16.29 minutes</td>
                <td>1</td>
                <td>85%</td>
            </tr>
            <tr>
                <td>Edit Distance without first letter filter</td>
                <td>10.3 minutes</td>
                <td>0</td>
                <td>90%</td>
            </tr>
            <tr>
                <td>Edit Distance with first letter filter</td>
                <td>10.42 minutes</td>
                <td>1</td>
                <td>87.5%</td>
            </tr>
        </table>
   </section>



    <section class="section" id="critical">
        <!-- topic -->
        <h3>Critical Evaluation</h3>
        <!-- contents -->
        <h4>User Interface</h4>
        <p>Our user interface was created using Tkinter, which was a good enough interface to meet our requirement. It is also very user friendly and meets HCI standards, as it is well labelled with instrictions, and help buttons for further clarification. 
            <br>
            <br>
            However, a minor improvement would be to use a better library could have been used instead, to make it more aesthetically pleasing, and to fit the Red Cross' style/theme.
        </p>
        <h4>Stability</h4>
        <p>
            The Interface will be deployed as a program on relevant devices. The system may take a while to complete extraction, bust so far we have not had an issue with the system crashing.
            Therefore, our system is very stable.
        </p>
        <h4>Efficiency</h4>
        <p>
            A huge shortcoming of our system is its efficiency. As there are so many integrated parts, it takes a while for the final extraction to take place. This is, more specifically, to do with the QA model, and Fuzzy Matching to find the P-codes for locations.
            As for the extraction of P-codes, this is due to the pattern matching structure that we implemented. Once the Admins have been extracted, it then tries to find the matching P-code from the Excel database. 
            <br>
            <br>
            However, the issue is that the databases have approximately 40,000 rows of data.
            Our efforts to reduce this time by filtering through country codes, reduced it to an average of around 2 minutes of extraction.

            Although this is a huge cut in time, it could be further improved if we implemented a better algorithm to search for the correct match quicker.
        </p>
        <h4>Compatibility</h4>
        <p>
            Our program is deployed as an application built with python UI library Tkinter. It was optimised for Windows operating systems only. It was not a requirement from our clients for it to work with other operating systems, as they had specified that they are Windows based.
        </p>
        <h4>Maintainability</h4>
        <p>
            Our system was structured with maintainability in mind. It separates frontend and backend, so that communication can clearly be seen in the code. We used an object-oriented approach in order to structure and separate tasks to different classes.
            All this means that the code can easily be modified, or extended for future use.
        </p>
        <h4>Project management</h4>
        <p>
            We practiced agile method to software engineering as a team. We had lab meetings, where we discuss progress with our TA, every Tuesday. Aside from that, we also held weekly team meeting to delegate tasks for the week, and discuss progress and ideas, keeping each other on the same page.
            <br>
            <br>
            Our main means of team communication was through WhatsApp, and other meetings and discussions were held on Microsoft Teams. Our collaborative platform was Notion, where we stored meeting minutes, delegated weekly tasks for each member, and stored any other important documents or information.
            This helped us to keep track of progress, and make sure that everyone knew what tasks they were meant to be doing at any given time during the project.

        </p>
    </section>

    <section class="section" id="future">
        <!-- topic -->
        <h3>Future Work</h3>
        <!-- contents -->
        <p>
            Though our system meets all of our clients' requirements, there are still some improvements that could be made. One major improvement would be the retrieval time. This could be done by building upon the Fuzzy Matzhing that has already been done.
            Another improvement would be to further train the existing QA model. As evaluated above, the QA model has some shortcomings in terms of answer accuracy, which could definitely be improved.
            <br>
            <br>
            We also believe a feedback loop could be implemented wherein users rate the accuracy of answers on the page where the answers are displayed. This would provide a continous stream of feedback which would help the QA model train itself as it keeps getting used.
            <br>
            <br>
            While we have coded the Text Summarizer and the Image Slicing code needed to extract details about the Operational Strategy, it has not yet been integrated into the tool as our client expressed that they were not very interested in focusing on it now. This feature could be integrated into the tool in the future to increase functionality.
        </p>
    </section>
    <footer class="footer-content">
        <div class="row">
            <div class="right-content">
                <h2>About Us</h2>
                <p>
                    We're an ambitious student team from UCL Computer Science.
                </p>
                <ul class="social">
                    <li><a href="#"><i class="fa fa-github"></i></a></li>
                </ul>
            </div>
            <div class="left-content">
                <h2>Site Menu</h2>
                <div class="container">
                    <div class="nav-list">
                        <div class="col-3"><a href="index.html">Home</a></div>
                        <div class="col-3"><a href="requirements.html">Requirement</a></div>
                        <div class="col-3"><a href="research.html">Research</a></div>
                        <div class="col-3"><a href="design.html">Design</a></div>
                        <div class="col-3"><a href="implementation.html">Implementation</a></div>
                        <div class="col-3"><a href="testing.html">Testing</a></div>
                        <div class="col-3"><a href="evaluation.html">Evaluation</a></div>
                        <div class="col-3"><a href="appendix.html">Appendix</a></div>
                    </div>
                </div>

            </div>
        </div>
        <div class="sub-footer">
            <p>Copyright &copy; 2022 CIFRC</p>
        </div>
    </footer>

</body> 